<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Minimal Google Sign-In</title>
    <!-- 1. Google Identity Services Library -->
    <script src="https://accounts.google.com/gsi/client" async></script>
    <style>
        body { font-family: sans-serif; display: flex; justify-content: center; padding-top: 100px; }
    </style>
</head>
<body>

    <!-- 2. The HTML element where the Google Sign-In button will be rendered -->
    <div id="googleSignInButton"></div>

    <script>
        // --- 3. JAVASCRIPT LOGIC ---

        /**
         * This function is the callback that Google calls after a user successfully signs in.
         * It receives the user's credential as a JWT (JSON Web Token).
         * @param {object} response - The credential response object from Google.
         */
        function handleCredentialResponse(response) {
            // The JWT's payload (the middle part) is Base64-encoded and contains user info.
            const decodedToken = JSON.parse(atob(response.credential.split('.')[1]));

            // At this point, you have the user's information.
            console.log("Sign-in successful!");
            console.log("User ID:", decodedToken.sub);
            console.log("User Name:", decodedToken.name);
            console.log("User Profile Picture:", decodedToken.picture);

            // You would typically hide the sign-in button and show your app content here.
            document.getElementById('googleSignInButton').style.display = 'none';
            document.body.innerHTML += '<p>Sign-in successful! Check the console for user data.</p>';
        }

        /**
         * This function runs once the page and the Google script have loaded.
         * It initializes the Google Sign-In service and tells it where to render the button.
         */
        window.onload = function () {
          google.accounts.id.initialize({
            // Your application's unique Client ID from the Google Cloud Console.
            client_id: "736869974803-67gmolnoitirougo0fkpp06vfetpgndl.apps.googleusercontent.com",
            
            // The name of the function to call after a successful sign-in.
            callback: handleCredentialResponse
          });

          // Renders the Google Sign-In button inside the specified HTML element.
          google.accounts.id.renderButton(
            document.getElementById("googleSignInButton"),
            { theme: "outline", size: "large", text: "signin_with" } // UI customization options
          );
        }
    </script>
</body>
</html>
